(this["webpackJsonpresty-api"]=this["webpackJsonpresty-api"]||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var r=a(26),n=a(27),c=a(31),s=a(29),i=a(0),o=a.n(i),d=a(5),l=a.n(d),u=a(10),j=a.n(u),b=a(16),h=a(7),O=a(30),p=a(2),y=(a(37),a(38),a(1)),x=function(){return Object(y.jsx)("header",{id:"header",children:Object(y.jsx)("h1",{children:"RESTy"})})},f=(a(40),function(){return Object(y.jsx)("footer",{className:"footer",children:"\xa9 2021"})}),m=(a(41),function(e){var t=Object(i.useState)(""),a=Object(h.a)(t,2),r=a[0],n=a[1],c=Object(i.useState)(null),s=Object(h.a)(c,2),o=s[0],d=s[1],l=function(e){n(e.target.id.toUpperCase())};return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={};try{a=JSON.parse(o)}catch(c){console.log("Invalid JSON entered into the form by user")}var n={method:r||"GET",url:t.target.url.value,body:a};e.setRequestParams(n)},children:[Object(y.jsxs)("label",{children:[Object(y.jsx)("span",{children:"\xa0URL:\xa0\xa0\xa0\xa0\xa0"}),Object(y.jsx)("input",{id:"url-input",name:"url",type:"text"}),Object(y.jsx)("button",{type:"submit",children:"GO!"})]}),Object(y.jsxs)("label",{className:"methods",children:[Object(y.jsx)("span",{onClick:l,className:"GET"===r?"clicked":"",id:"get",children:"GET"}),Object(y.jsx)("span",{onClick:l,className:"POST"===r?"clicked":"",id:"post",children:"POST"}),Object(y.jsx)("span",{onClick:l,className:"PUT"===r?"clicked":"",id:"put",children:"PUT"}),Object(y.jsx)("span",{onClick:l,className:"DELETE"===r?"clicked":"",id:"delete",children:"DELETE"})]}),("POST"===r||"PUT"===r)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("label",{htmlFor:"body-text-area",children:"Enter a correctly formatted JSON object to use as the request body"}),Object(y.jsx)("textarea",{rows:"4",cols:"50",onChange:function(e){e.preventDefault(),d(e.target.value)},name:"body",id:"body-text-area"})]})]})})}),S=(a(42),a(17)),T=a.n(S),v=function(e){return Object(y.jsx)("section",{id:"results-container","data-testid":"data",children:e.loading?Object(y.jsx)("h1",{children:"LOADING..."}):Object(y.jsxs)("pre",{children:[Object(y.jsx)("span",{className:"result-txt",children:"Results:"}),e.data&&"object"===typeof e.data&&Object(y.jsxs)("div",{"data-testid":"result-data",children:[Object(y.jsx)("p",{children:"HEADERS"}),Object(y.jsx)(T.a,{src:e.data.headers,theme:"summerfruit:inverted"}),Object(y.jsx)("p",{children:"DATA"}),Object(y.jsx)(T.a,{src:e.data.data,theme:"summerfruit:inverted"})]}),Object(y.jsx)("br",{})]})})},E=a(6),g=function(e){var t=Object(i.useState)(null),a=Object(h.a)(t,2),r=a[0],n=a[1];return Object(i.useEffect)((function(){localStorage.getItem("history")&&n(JSON.parse(localStorage.getItem("history")))}),[]),Object(y.jsxs)("div",{id:"history-container",children:[Object(y.jsx)("br",{}),Object(y.jsx)("span",{className:"history-txt",children:"History: "}),Object(y.jsxs)(E.a,{defaultActiveKey:"0",children:[r&&r.map((function(t,a){return e.history[e.history.length-1]&&t.url===e.history[e.history.length-1].url&&a===r.length-1?null:Object(y.jsxs)(E.a.Item,{eventKey:a,children:[Object(y.jsxs)(E.a.Header,{children:["URL: ",t.url]}),Object(y.jsx)(E.a.Body,{children:JSON.stringify(t.data,void 0,2)})]})})),e.history&&e.history.map((function(e,t){return Object(y.jsxs)(E.a.Item,{eventKey:t,children:[Object(y.jsx)(E.a.Header,{children:e.url}),Object(y.jsx)(E.a.Body,{children:JSON.stringify(e.data,void 0,2)})]})}))]})]})},N=a(28),R=a.n(N),k=function(){var e=Object(i.useReducer)((function(e,t){switch(t.type){case"SET_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload});case"SET_LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:t.payload});case"SET_REQUEST_PARAMS":return Object(p.a)(Object(p.a)({},e),{},{method:t.payload.method,body:t.payload.body,url:t.payload.url});case"SET_HISTORY":return Object(p.a)(Object(p.a)({},e),{},{history:[].concat(Object(O.a)(e.history),[t.payload])});default:return e}}),{loading:!1,data:null,method:"GET",body:{},url:"",history:[]}),t=Object(h.a)(e,2),a=t[0],r=t[1];Object(i.useEffect)((function(){if(a.url.length>0){var e={type:"SET_LOADING",payload:!0};function t(){return c.apply(this,arguments)}function c(){return c=Object(b.a)(j.a.mark((function e(){var t,c,s,i,o,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={type:"SET_DATA",payload:null},e.t0=a.method,e.next="GET"===e.t0?4:"POST"===e.t0?17:"PUT"===e.t0?21:"DELETE"===e.t0?25:29;break;case 4:return e.next=6,n(a.url);case 6:return s=e.sent,i=s.headers,o=s.data,t.payload={headers:i,data:o},console.log(i,o),r(t),d=[],(d=JSON.parse(localStorage.getItem("history"))||[]).push({url:a.url,data:{headers:i,data:o}}),localStorage.setItem("history",JSON.stringify(d)),e.abrupt("break",32);case 17:case 21:case 25:return c={message:"This method not supported yet."},t.payload=c,r(t),e.abrupt("break",32);case 29:c={message:"This method not supported yet."},t.payload=c,r(t);case 32:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}r(e),t(),r(e={type:"SET_LOADING",payload:!1})}}),[a.url]);var n=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get(t);case 3:return a=e.sent,n=a.headers,c=a.data,r({type:"SET_HISTORY",payload:{url:t,data:{headers:n,data:c}}}),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),s=e.t0.headers,r({type:"SET_HISTORY",payload:{url:t,res:i={headers:s,data:"Unable to process a request with the given url and/or request body."}}}),e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(x,{}),Object(y.jsxs)("div",{id:"main-container",children:[Object(y.jsx)(m,{setRequestParams:function(e){r({type:"SET_REQUEST_PARAMS",payload:e})}}),Object(y.jsxs)("div",{children:["Request Method: ",a.method]}),Object(y.jsxs)("div",{children:["URL: ",a.url]}),Object(y.jsx)(g,{history:a.history}),Object(y.jsx)(v,{data:a.data,loading:a.loading})]}),Object(y.jsx)(f,{})]})},A=(a(64),function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(y.jsx)(k,{})}}]),a}(o.a.Component)),I=document.getElementById("root");l.a.render(Object(y.jsx)(A,{}),I)}},[[65,1,2]]]);
//# sourceMappingURL=main.2a819b3e.chunk.js.map